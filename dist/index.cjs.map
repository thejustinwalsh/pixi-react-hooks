{"version":3,"sources":["/Users/tjw/Developer/pixi-react-hooks/dist/index.cjs","../src/useAssets.ts","../src/useAssetBundle.ts","../src/useAssetManifest.ts"],"names":["useEffect","isLoaded"],"mappings":"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","file":"/Users/tjw/Developer/pixi-react-hooks/dist/index.cjs","sourcesContent":[null,"import {useEffect} from 'react';\nimport {useAssetState} from './hooks/useAssetState';\nimport {isLoaded, load, resolve} from './utils';\n\nimport type {UnresolvedAsset} from 'pixi.js';\nimport type {AssetState, AssetUrl} from './types';\n\nexport function useAssets<T>(urls: string | UnresolvedAsset): AssetState<T | undefined>;\nexport function useAssets<T>(urls: string[] | UnresolvedAsset[]): AssetState<Record<string, T>>;\n\nexport function useAssets<T>(urls: AssetUrl) {\n  const [state, setState, thenable] = useAssetState<T, AssetUrl>(urls, isLoaded, load, resolve);\n\n  useEffect(() => {\n    thenable\n      ?.then(data => setState({status: 'loaded', isLoaded: true, error: null, data}))\n      .catch(error => setState({status: 'error', isLoaded: false, error, data: null}));\n  }, [setState, thenable]);\n\n  return state;\n}\n","import {useEffect} from 'react';\nimport {useAssetState} from './hooks/useAssetState';\nimport {isBundleLoaded, loadBundle, resolveBundle} from './utils';\n\nimport type {ResolvedAsset} from 'pixi.js';\nimport type {AssetState, AssetBundle} from './types';\n\nexport function useAssetBundle(bundles: string): AssetState<Record<string, ResolvedAsset>>;\nexport function useAssetBundle(\n  bundles: string[],\n): AssetState<Record<string, Record<string, ResolvedAsset>>>;\n\nexport function useAssetBundle(bundles: string | string[]) {\n  const [state, setState, thenable] = useAssetState<AssetBundle, string | string[]>(\n    bundles,\n    isBundleLoaded,\n    loadBundle,\n    resolveBundle,\n  );\n\n  useEffect(() => {\n    thenable\n      ?.then(data => setState({status: 'loaded', isLoaded: true, error: null, data}))\n      .catch(error => setState({status: 'error', isLoaded: false, error, data: null}));\n  }, [setState, thenable]);\n\n  return state;\n}\n","import {Assets, AssetsManifest} from 'pixi.js';\nimport {useEffect, useState} from 'react';\n\ntype AssetManifestState = {\n  isLoaded: boolean;\n  thenable: Promise<void>;\n};\n\nexport function useAssetManifest(\n  manifest: AssetsManifest,\n  bundles: string[] = [],\n  options: Omit<Parameters<typeof Assets.init>[0], 'manifest'> = {},\n) {\n  const [{isLoaded, thenable}, setState] = useState<AssetManifestState>(() => ({\n    isLoaded: false,\n    thenable: Assets.init({\n      ...options,\n      manifest,\n    }).then(() => {\n      Assets.backgroundLoadBundle(\n        bundles.length > 0 ? bundles : manifest.bundles.map(bundle => bundle.name),\n      );\n    }),\n  }));\n\n  useEffect(() => {\n    thenable.then(() => setState(s => ({...s, isLoaded: true})));\n  }, [thenable]);\n\n  return {isLoaded};\n}\n"]}