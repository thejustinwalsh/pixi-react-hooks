{"version":3,"sources":["../../src/suspense/useAssets.ts","../../src/suspense/useAssetBundle.ts","../../src/suspense/useAssetManifest.ts"],"sourcesContent":["import {Usable, use} from 'react';\nimport {useAssetState} from '../hooks/useAssetState';\nimport {isLoaded, load, resolve} from '../utils';\n\nimport type {UnresolvedAsset} from 'pixi.js';\n\nexport function useAssets<T>(urls: string | UnresolvedAsset): T;\nexport function useAssets<T>(urls: string[] | UnresolvedAsset[]): Record<string, T>;\n\nexport function useAssets<T>(urls: string | UnresolvedAsset | string[] | UnresolvedAsset[]) {\n  const [state, _, thenable] = useAssetState<T>(urls, isLoaded, load, resolve);\n  return state.isLoaded ? state.data : use(thenable as Usable<T>); // TODO: Ensure Promise or null based on state.isLoaded\n}\n","import {Usable, use} from 'react';\nimport {useAssetState} from '../hooks/useAssetState';\nimport {isBundleLoaded, loadBundle, resolveBundle} from '../utils';\n\nimport type {ResolvedAsset} from 'pixi.js';\n\nexport function useAssetBundle(bundles: string | string[]) {\n  const [state, _, thenable] = useAssetState<\n    Record<string, ResolvedAsset> | Record<string, Record<string, ResolvedAsset>>\n  >(bundles, isBundleLoaded, loadBundle, resolveBundle);\n\n  return state.isLoaded\n    ? state.data\n    : use(\n        thenable as Usable<\n          Record<string, ResolvedAsset> | Record<string, Record<string, ResolvedAsset>>\n        >,\n      ); // TODO: Ensure Promise or null based on state.isLoaded\n}\n","import {use, useState} from 'react';\nimport {Assets} from 'pixi.js';\n\nimport type {AssetsManifest} from 'pixi.js';\n\nexport function useAssetManifest(\n  manifest: AssetsManifest,\n  bundles: string[] = [],\n  options: Omit<Parameters<typeof Assets.init>[0], 'manifest'> = {},\n) {\n  const [thenable] = useState<Promise<void>>(() =>\n    Assets.init({...options, manifest}).then(() =>\n      Assets.backgroundLoadBundle(\n        bundles.length > 0 ? bundles : manifest.bundles.map(bundle => bundle.name),\n      ),\n    ),\n  );\n\n  return use(thenable);\n}\n"],"mappings":";;;;;;;;;;;AAAA,SAAgB,WAAU;AASnB,SAAS,UAAa,MAA+D;AAC1F,QAAM,CAAC,OAAO,GAAG,QAAQ,IAAI,cAAiB,MAAM,UAAU,MAAM,OAAO;AAC3E,SAAO,MAAM,WAAW,MAAM,OAAO,IAAI,QAAqB;AAChE;;;ACZA,SAAgB,OAAAA,YAAU;AAMnB,SAAS,eAAe,SAA4B;AACzD,QAAM,CAAC,OAAO,GAAG,QAAQ,IAAI,cAE3B,SAAS,gBAAgB,YAAY,aAAa;AAEpD,SAAO,MAAM,WACT,MAAM,OACNC;AAAA,IACE;AAAA,EAGF;AACN;;;AClBA,SAAQ,OAAAC,MAAK,gBAAe;AAC5B,SAAQ,cAAa;AAId,SAAS,iBACd,UACA,UAAoB,CAAC,GACrB,UAA+D,CAAC,GAChE;AACA,QAAM,CAAC,QAAQ,IAAI;AAAA,IAAwB,MACzC,OAAO,KAAK,EAAC,GAAG,SAAS,SAAQ,CAAC,EAAE;AAAA,MAAK,MACvC,OAAO;AAAA,QACL,QAAQ,SAAS,IAAI,UAAU,SAAS,QAAQ,IAAI,YAAU,OAAO,IAAI;AAAA,MAC3E;AAAA,IACF;AAAA,EACF;AAEA,SAAOA,KAAI,QAAQ;AACrB;","names":["use","use","use"]}